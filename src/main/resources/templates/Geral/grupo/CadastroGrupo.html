<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{Geral/LayoutGeral}"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">


<head><title>Cadastro de Grupo</title> </head>


	<section layout:fragment="conteudo">

		<!-- CABEÇALHO DO CADASTRO -->
		<div class="page-header">
			<div class="container-fluid">
				<div class="row">
					<div class="col-xs-10">
						<h1 th:if="${grupo.novo}">Cadastro de Grupo</h1>
						<h1 th:unless="${grupo.novo}">Editando o Grupo - [[${grupo.nome}]]</h1>
					</div>
				</div>
			</div>
		</div>

		<div class="container-fluid">

			<th:block th:include="fragments/MensagemSucesso"></th:block>

			<!-- FORMULÁRIO DE CADASTRO -->
			<form method="POST" th:object="${grupo}" class="form-vertical  js-form-loading"  
						th:action="${grupo.novo} ? @{/grupo/novo} : @{/grupo/{id}(id=${grupo.id})}">
			
			<th:block th:include="fragments/MensagensErroValidacao"></th:block>
			
			<input type="hidden" th:field="*{id}"/>

				<div class="row">
					<div class="col-sm-10  form-group  bw-required" th:classappend="${#fields.hasErrors('nome')} ? has-error">
						<label for="nome" class="control-label">Nome do Grupo</label>
						<input id="nome" type="text" class="form-control" th:field="*{nome}" maxlength="60"/>
					</div>
				</div>
				
				<br>
				
				<div class="row">
					<div class="col-sm-10  form-group">
						<h2 class="text-muted" >Permissões</h2>
					</div>
				</div>				
				
				<div class="row">
					<div class="form-group  col-sm-12">
						<th:block th:each="permissao : ${permissoes1}">
	  						<div class="checkbox  col-sm-2 checkbox-inline" style="margin: 0"> 
		    					<input type="checkbox" th:value="${permissao.id}" th:field="*{permissoes}"/>
		    					<label th:text="${permissao.nome}" th:for="${#ids.prev('permissoes')}"></label>
	    					</div>
						</th:block>
					</div>
				</div>					
				
				<div class="form-group">
					<button class="btn  btn-primary" type="submit">Salvar</button>
					<a class="btn  btn-default" th:href="@{/grupo/pesquisar}" sec:authorize-url="/grupo/pesquisar">Voltar</a>
				</div>
			</form>
		</div>
	</section>
</html>